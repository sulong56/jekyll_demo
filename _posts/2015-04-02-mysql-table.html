---
layout: default
title: MYSQL 数据表
description: mysql 数据表 建立 命令
keywords: 新建数据表 简单命令
category: mysql
tags: [mysql]
---

<div class="blog-header">
<h1 class="blog-title">MYSQL 数据表</h1>
<p class="lead blog-description">MYSQL中新建新建数据表,及一些其他简单命令</p>
<p class="blog-post-meta">{{ page.date | date:"%Y-%m-%d" }} by <a href="#">su</a></p>
</div>

<div class="row">

<div class="col-sm-12 blog-main">

  <div class="blog-post">
	<h2 class="blog-post-title">一、数据表</h2>

	<h3>1.基础</h3>

	<p class="MsoNormal" style="margin-left:0cm;text-indent:10.5pt;">数据表<span>(Table):</span>是数据库中最重要的组成部分，类似于二维表格，列称为字段(Field)，行称为记录(Record)。</p>

	<h3>2.常用命令</h3>

	<p class="MsoNormal" style="margin-left:0cm;text-indent:10.5pt;">查看数据表列表</p>
	<p class="MsoNormal" style="margin-left: 40px; text-indent: 10.5pt;"><code>show tables;</code></p>

	<p class="MsoNormal" style="margin-left:0cm;text-indent:10.5pt;">查看数据表结构</p>
	<p class="MsoNormal" style="margin-left: 40px; text-indent: 10.5pt;"><code>show columns from 表名;</code></p>
	<p class="MsoNormal" style="margin-left: 40px; text-indent: 10.5pt;"><code>desc 表名;</code></p>
	<p class="MsoNormal" style="margin-left: 40px; text-indent: 10.5pt;"><code>show create table 表名;</code></p>

	<p class="MsoNormal" style="margin-left:0cm;text-indent:10.5pt;">删除数据表</p>
	<p class="MsoNormal" style="margin-left: 40px; text-indent: 10.5pt;"><code>DROP TABLE 表名;</code></p>
	<p class="MsoNormal" style="margin-left: 40px; text-indent: 10.5pt;"><code>DROP TABLE IF EXISTS 表名;</code></p>
	<p class="MsoNormal" style="margin-left: 40px; text-indent: 10.5pt;">说明：删除没有被关联的普通表：直接上面的SQL语句就行了。</p>
	<p class="MsoNormal" style="margin-left: 40px; text-indent: 10.5pt;">删除被其他表关联的父表：方法一：先删除子表，在删除父表; 方法二：删除父表的外键约束（上面有介绍），再删该表</p>
  </div>

  <div class="blog-post">
	<h2 class="blog-post-title">二、数据表新增，修改</h2>
	<h3>1.新增</h3>
	<p style="margin-left: 40px;">create table [if not exists] 数据表名称(</p>

	<p style="margin-left: 40px;">&nbsp; 列名称 数据类型 [[null | not null] | default 默认值 | auto_increment | [primary | unique key]],</p>

	<p style="margin-left: 40px;">&nbsp; .....</p>

	<p style="margin-left: 40px;">)</p>

	<p style="margin-left: 80px;">null : 允许为空</p>

	<p style="margin-left: 80px;">not null : 不允许为空</p>

	<p style="margin-left: 80px;"><strong>default:</strong></p>

	<p style="margin-left: 80px;">默认值,如果在插入记录时，没有为该字段赋值,系统将自动赋予该字段默认值。</p>

	<p style="margin-left: 80px;"><strong>auto_increment:</strong></p>

	<p style="margin-left: 80px;">自动编号,其数据类型为数值型(如果为浮点型，其数据类型应写为float(N,0)或double(N,0)),且该字段必须为定义为索引字段。</p>

	<p style="margin-left: 80px;"><strong>primary key:</strong></p>

	<p style="margin-left: 80px;">&nbsp; 主键约束,可以创建索引,一张数据表只能存在一个主键约束</p>

	<p style="margin-left: 80px;">&nbsp; 必须保证记录的唯一性,自动的禁止为空。</p>

	<p style="margin-left: 80px;"><strong>unique key:</strong></p>

	<p style="margin-left: 80px;">&nbsp; 必须保证记录的唯一性。</p>

	<p style="margin-left: 80px;">&nbsp; 唯一约束,可以创建索引,一张数据表可以存在多个唯一约束</p>

	<p style="margin-left: 40px;">说明:</p>

	<p style="margin-left: 40px;">A、在插入记录时，必须为禁止为空且没有默认值的字段赋值。</p>

	<p style="margin-left: 40px;">B、主键约束字段或唯一约束的字段都可以赋值。</p>

	<p style="margin-left: 40px;">C、一般情况下auto_increment与primary key组合使用。</p>

	<p style="margin-left: 40px;">D、自动编号的字段无需赋值。</p>

	<h3>2.修改</h3>
	<p style="margin-left: 40px;">数据表更名</p>
	<p style="margin-left: 80px;"><code>alter table 数据表名称 rename [to] 新名称&nbsp;<br />
	rename table 旧名称 to 新名称,旧名称 to 新名称,...</code></p>

	<p style="margin-left: 40px;">添加单一字段</p>
	<p style="margin-left: 80px;"><code>alter table 数据表名称 add [column] 列名称 列定义 [first|after 列名称]</code></p>

	<p style="margin-left: 40px;">添加多个字段</p>
	<p style="margin-left: 80px;"><code>alter table 数据表名称 add [column] (列名称 列定义,...)</code></p>

	<p style="margin-left: 40px;">删除字段</p>
	<p style="margin-left: 80px;"><code>alter table 数据表名称 drop [column] 列名称</code></p>

	<p style="margin-left: 40px;">添加/删除默认值</p>
	<p style="margin-left: 80px;"><code>alter table 数据表名称 alter [column] 列名称 {set default 默认值 | drop default};</code></p>

	<p style="margin-left: 40px;">仅修改列定义</p>
	<p style="margin-left: 80px;"><code>alter table 数据表名称 modify [column] 列名称 列定义 [first|after 列名称]</code></p>

	<p style="margin-left: 40px;">修改列定义及列名称</p>
	<p style="margin-left: 80px;"><code>alter table 数据表名称 change [column] 旧列名称 新列名称 列定义 [first|after 列名称]</code></p>

	<p style="margin-left: 40px;">修改字段的数据类型</p>
	<p style="margin-left: 80px;"><code>ALTER TABLE 表名 MODIFY 属性名 数据类型;</code></p>

	<p style="margin-left: 40px;">修改字段名</p>
	<p style="margin-left: 80px;"><code>ALTER TABLE 表名 CHANGE 旧属性名 新属性名 新数据类型;</code></p>

	<p style="margin-left: 40px;">更改表的存储引擎</p>
	<p style="margin-left: 80px;"><code>ALTER TABLE 表名 ENGINE = 存储引擎名;</code></p>

	<p style="margin-left: 40px;">修改表的字符集</p>
	<p style="margin-left: 80px;"><code>ALTER　TABLE 表名 CHARACTER SET UTF8;</code></p>
  </div>


  <div class="blog-post">
	<h2 class="blog-post-title">三、外键FOREIGN KEY </h2>
	<p style="margin-left: 40px;">表的外键约束可以在建表时设置也可以在建表完成后进行设置</p>
	<p style="margin-left: 40px;">外键约束可以将减少数据表的体积，提高查询速度。逻辑外键是指在设计数据表时，数据表的某个字段的值要引用其他数据表中某个字段的值。</p>

	<h3>1.删除</h3>
	<p style="margin-left: 40px;">删除表的外键约束</p>
	<p style="margin-left: 80px;"><code>ALTER TABLE 表名 DROP FOREIGN KEY 外键别名;</code></p>

	<h3>2.新增</h3>
	<p style="margin-left: 40px;">建表时设置表的外键</p>
	<p style="margin-left: 80px;"><code>CONSTRAINT 外键别名 FOREIGN KEY(属性1,属性2,....属性n) REFERENCES 表名(属性1',属性2',...属性n')</code></p>

	<p style="margin-left: 40px;">建表完成后设置表的外键</p>
	<p style="margin-left: 80px;"><code>ALTER TABLE `child` ADD CONSTRAINT  `child_ibfk_1` FOREIGN KEY (`parent_id`) REFERENCES `parent` (`id`) ON UPDATE CASCADE ON DELETE CASCADE</code></p>

  </div>

  <div class="blog-post">
	<h2 class="blog-post-title">四、存储引擎</h2>
	<p style="margin-left: 40px;">表的外键约束可以在建表时设置也可以在建表完成后进行设置</p>
	<p style="margin-left: 40px;">外键约束可以将减少数据表的体积，提高查询速度。逻辑外键是指在设计数据表时，数据表的某个字段的值要引用其他数据表中某个字段的值。</p>

	<h3>1.删除</h3>
	<p style="margin-left: 40px;">删除表的外键约束</p>
	<p style="margin-left: 80px;"><code>ALTER TABLE 表名 DROP FOREIGN KEY 外键别名;</code></p>
  </div>

  <div class="blog-post">
	<h2 class="blog-post-title">五、复制表</h2>
	<p style="margin-left: 40px;">基于现有的表创建新表是一项很容易的任务。</p>
	<p style="margin-left: 40px;">以下代码将得到tb_test表的一个副本，名为tb_test2:</p>
	<p style="margin-left: 80px;"><code>create table tb_test2 select * from db_test.tb_test;</code></p>
  </div>

  <div class="blog-post">
	<h2 class="blog-post-title">六、创建临时表</h2>
	<p style="margin-left: 40px;">有的时候，当工作在非常大的表上时，可能偶尔需要运行很多查询获得一个大量数据的小的子集，不是对整个表运行这些查询，而是让MySQL每次找出所需的少数记录，将记录保存到一个临时表可能更快一些，然后对这些临时表进行查询操作。可以通过使用temporary关键字和create table语句来实现。</p>
	<p style="margin-left: 40px;">临时表的创建与其它表一样，只是它们存储在操作系统指定的临时目录中。临时表将在你连接MySQL期间存在，当你断开时，MySQL将自动删除表并释放所有的内存空间；当然了，你也可以手动的使用drop table命令删除临时表。</p>
	<p style="margin-left: 40px;">您必须拥有CREATE TEMPORARY TABLES权限，才能创建临时表。</p><br/>

	<p style="margin-left: 40px;">定义临时表举例</p>
	<p style="margin-left: 80px;"><code>  CREATE TEMPORARY TABLE tmp_table ( 
      name VARCHAR(10) NOT NULL, 
      value INTEGER NOT NULL 
  )</code></p>

	<p style="margin-left: 40px;">直接将查询结果导入临时表</p>
	<p style="margin-left: 80px;"><code>create temporary table 临时表名 select * from 检索的表;</code></p>

	<p style="margin-left: 40px;">另外mysql也允许你在内存中直接创建临时表，因为是在内存中所有速度会很快，语法如下</p>
	<p style="margin-left: 80px;"><code>  CREATE TEMPORARY TABLE tmp_table ( 
     name VARCHAR(10) NOT NULL, 
     value INTEGER NOT NULL 
  ) TYPE = HEAP </code></p>
  </div>

</div>
</div>

